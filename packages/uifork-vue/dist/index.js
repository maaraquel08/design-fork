(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode(`#uifork-root{--uifork-bg-dark: #262626;--uifork-bg-hover: #303030;--uifork-button-hover: #404040;--uifork-bg-input: #404040;--uifork-border-color: #2f2f2f;--uifork-text-primary: white;--uifork-text-secondary: #a3a3a3;--uifork-text-muted: #a3a3a3;--uifork-status-connected: #22c55e;--uifork-status-connecting: #eab308;--uifork-status-disconnected: #ef4444;--uifork-accent-success: #22c55e;--uifork-accent-danger: #ef4444;--uifork-accent-delete: #f87171;--uifork-shadow-sm: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--uifork-shadow-md: 0 25px 50px -12px rgba(0, 0, 0, .25);--uifork-bg: var(--uifork-bg-dark);--uifork-fg: var(--uifork-text-primary);--uifork-fg-secondary: var(--uifork-text-secondary);--uifork-hover-bg: rgba(255, 255, 255, .06);--uifork-bg-select: rgba(255, 255, 255, .06);--uifork-bg-select-hover: rgba(255, 255, 255, .1);--uifork-menu-item-height: 32px;--uifork-trigger-height: 32px}#uifork-root[data-theme=light]{--uifork-bg-dark: #ffffff;--uifork-bg-hover: #f5f5f5;--uifork-button-hover: #e5e5e5;--uifork-bg-input: #e5e5e5;--uifork-border-color: #f0f0f0;--uifork-text-primary: #171717;--uifork-text-secondary: #525252;--uifork-text-muted: #737373;--uifork-accent-delete: #dc2626;--uifork-shadow-sm: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--uifork-shadow-md: 0 25px 50px -12px rgba(0, 0, 0, .15);--uifork-hover-bg: rgba(0, 0, 0, .04);--uifork-bg-select: rgba(0, 0, 0, .04);--uifork-bg-select-hover: rgba(0, 0, 0, .08)}@media(prefers-color-scheme:light){#uifork-root[data-theme=system]{--uifork-bg-dark: #ffffff;--uifork-bg-hover: #f5f5f5;--uifork-bg-input: #e5e5e5;--uifork-border-color: #f0f0f0;--uifork-text-primary: #171717;--uifork-text-secondary: #525252;--uifork-text-muted: #737373;--uifork-accent-delete: #dc2626;--uifork-shadow-sm: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -2px rgba(0, 0, 0, .05);--uifork-shadow-md: 0 25px 50px -12px rgba(0, 0, 0, .15);--uifork-hover-bg: rgba(0, 0, 0, .04);--uifork-bg-select: rgba(0, 0, 0, .04);--uifork-bg-select-hover: rgba(0, 0, 0, .08)}}@keyframes _popoverFadeIn_1lnls_1{0%{opacity:0;transform:scale(.95);filter:blur(4px)}to{opacity:1;transform:scale(1);filter:blur(0)}}._container_1lnls_74{position:fixed;z-index:1001;background-color:var(--uifork-bg-dark);box-shadow:var(--uifork-shadow-md);border:1px solid var(--uifork-border-color);overflow:hidden;display:flex;flex-direction:column;border-radius:12px;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}._container_1lnls_74._containerClosed_1lnls_98{border-radius:16px}._container_1lnls_74[data-dragging=true],._container_1lnls_74[data-dragging=true] *{cursor:grabbing!important}._trigger_1lnls_112{display:flex;align-items:center;gap:8px;padding:8px 12px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);cursor:pointer;background-color:transparent;border:none;white-space:nowrap;height:var(--uifork-trigger-height)}._trigger_1lnls_112:hover{background-color:var(--uifork-hover-bg)}._trigger_1lnls_112._triggerIconOnly_1lnls_129{padding:4px;box-sizing:border-box;width:var(--uifork-trigger-height);height:var(--uifork-trigger-height);justify-content:center}._trigger_1lnls_112._triggerEmpty_1lnls_136{padding:4px;box-sizing:border-box;width:32px;height:32px;justify-content:center}._statusIndicator_1lnls_145{width:8px;height:8px;border-radius:50%}._statusIndicatorConnected_1lnls_151{background-color:var(--uifork-status-connected)}._statusIndicatorConnecting_1lnls_155{background-color:var(--uifork-status-connecting)}._statusIndicatorDisconnected_1lnls_159{background-color:var(--uifork-status-disconnected)}._statusIndicatorFailed_1lnls_163{background-color:var(--uifork-status-disconnected);animation:_pulse_1lnls_1 2s ease-in-out infinite}@keyframes _pulse_1lnls_1{0%,to{opacity:1}50%{opacity:.5}}._menuItem_1lnls_179{height:var(--uifork-menu-item-height);min-height:var(--uifork-menu-item-height);border-radius:8px}._triggerSeparator_1lnls_186{color:var(--uifork-fg-secondary);margin:0 4px}._triggerLabel_1lnls_191,._triggerVersion_1lnls_192{white-space:nowrap}._triggerLabel_1lnls_191{font-weight:500}._triggerVersion_1lnls_192{color:var(--uifork-fg-secondary)}._triggerIcon_1lnls_129{width:16px;height:16px;transition:transform .2s,color .4s cubic-bezier(.4,0,.2,1),width .2s;color:var(--uifork-fg-secondary)}._triggerIcon_1lnls_129._triggerIconOpen_1lnls_214{transform:rotate(180deg)}._dropdown_1lnls_219{min-width:200px;padding:4px;box-sizing:border-box;display:flex;flex-direction:column}._componentSelectorRow_1lnls_228{display:flex;align-items:center;justify-content:space-between;padding:0;box-sizing:border-box}._componentSelector_1lnls_228{padding:8px 12px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:transparent;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;gap:8px;text-align:left;flex-shrink:0}._componentSelector_1lnls_228:hover{background-color:var(--uifork-hover-bg)}._componentSelectorLabel_1lnls_257{font-weight:500;color:var(--uifork-fg)}._componentSelectorIcon_1lnls_262{width:12px;height:12px;color:var(--uifork-fg-secondary);flex-shrink:0}._componentSelectorSettings_1lnls_269{padding:8px;box-sizing:border-box;background-color:transparent;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--uifork-fg);transition:background-color .15s}._componentSelectorSettings_1lnls_269:hover{background-color:var(--uifork-hover-bg)}._componentSelectorSettingsIcon_1lnls_286{width:16px;height:16px}._divider_1lnls_292{border-top:1px solid var(--uifork-border-color);margin:4px 0}._versionsList_1lnls_298{display:flex;flex-direction:column;max-height:300px;overflow-y:auto;gap:2px}._versionsList_1lnls_298::-webkit-scrollbar{width:4px}._versionsList_1lnls_298::-webkit-scrollbar-track{background:transparent}._versionsList_1lnls_298::-webkit-scrollbar-thumb{background:var(--uifork-border-color);border-radius:2px}._emptyState_1lnls_318{padding:8px 12px;box-sizing:border-box;font-size:14px;color:var(--uifork-text-muted)}._emptyStateContainer_1lnls_325{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:12px;box-sizing:border-box;gap:8px;text-align:center}._emptyStateHeading_1lnls_336{font-size:14px;font-weight:500;color:var(--uifork-fg);margin:0}._emptyStateText_1lnls_343{font-size:13px;color:var(--uifork-fg-secondary);margin:0;line-height:1.4;max-width:220px;text-wrap:balance}._inlineCode_1lnls_352{font-family:monospace;font-size:13px;background-color:var(--uifork-bg-input);padding:2px 4px;box-sizing:border-box;border-radius:3px;color:var(--uifork-fg)}._emptyStateCommandContainer_1lnls_362{display:flex;align-items:center;gap:4px;background-color:var(--uifork-bg-input);padding:4px 8px;box-sizing:border-box;border-radius:4px;margin-top:4px;border:none;cursor:pointer;transition:background-color .15s}._emptyStateCommandContainer_1lnls_362:hover{background-color:var(--uifork-hover-bg)}._emptyStateCommand_1lnls_362{font-size:13px;color:var(--uifork-fg);margin:0;font-family:monospace}._emptyStateCopyIcon_1lnls_386{width:14px;height:14px;color:var(--uifork-text-secondary);flex-shrink:0;transition:color .15s}._emptyStateCommandContainer_1lnls_362:hover ._emptyStateCopyIcon_1lnls_386{color:var(--uifork-text-primary)}._versionItem_1lnls_398{padding:8px 4px 8px 8px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:transparent;border:none;border-radius:8px;cursor:pointer}._versionItem_1lnls_398:hover{background-color:var(--uifork-hover-bg)}._versionItem_1lnls_398{display:flex;align-items:center;gap:8px}._versionItem_1lnls_398:hover ._actions_1lnls_416{opacity:1}._checkmarkContainer_1lnls_421{width:16px;height:16px;flex-shrink:0;display:flex;align-items:center;justify-content:center}._checkmarkIcon_1lnls_430{width:16px;height:16px;opacity:.5}._versionLabel_1lnls_437{flex:1;display:flex;align-items:center;gap:8px}._versionId_1lnls_444{color:var(--uifork-fg)}._versionLabelText_1lnls_448{opacity:.5}._versionItemEditing_1lnls_453{padding:8px 4px 8px 8px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:var(--uifork-hover-bg);border:none;border-radius:8px;display:flex;align-items:center;gap:8px}._renameInput_1lnls_467{flex:1;background-color:transparent;padding:0;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);border:none;outline:none}._renameInput_1lnls_467::placeholder{color:var(--uifork-text-muted)}._actions_1lnls_416{display:flex;align-items:center;gap:2px;opacity:0;transition:opacity .15s}._actionButton_1lnls_490{padding:4px;box-sizing:border-box;border-radius:4px;background-color:transparent;border:none;cursor:pointer;color:var(--uifork-fg);transition:background-color .15s ease;display:flex;align-items:center;justify-content:center;height:calc(var(--uifork-menu-item-height) - 8px);width:calc(var(--uifork-menu-item-height) - 8px)}._actionButton_1lnls_490:hover{background-color:var(--uifork-hover-bg)}._actionIcon_1lnls_509{width:14px;height:14px;color:var(--uifork-fg-secondary);transition:color .15s}._actionButton_1lnls_490:hover ._actionIcon_1lnls_509{color:var(--uifork-fg)}._disabled_1lnls_520{opacity:.4;cursor:not-allowed;pointer-events:none}._actionButtonMore_1lnls_526{position:relative}._popover_1lnls_531{position:fixed;z-index:1002;min-width:140px;border-radius:12px;background-color:var(--uifork-bg-dark);box-shadow:var(--uifork-shadow-md);border:1px solid var(--uifork-border-color);padding:4px;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;transform-origin:left center;animation:_popoverFadeIn_1lnls_1 .2s cubic-bezier(.04,1.02,.13,1.02)}._popoverMenuItem_1lnls_558{display:flex;width:100%;align-items:center;gap:8px;padding:8px 4px 8px 8px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:transparent;border:none;cursor:pointer;text-align:left}._popoverMenuItem_1lnls_558:hover{background-color:var(--uifork-hover-bg)}._popoverMenuItem_1lnls_558._popoverMenuItemDelete_1lnls_575{color:var(--uifork-accent-delete)}._popoverMenuItemIcon_1lnls_579{width:16px;height:16px;color:var(--uifork-fg-secondary);flex-shrink:0}._popoverMenuItem_1lnls_558._popoverMenuItemDelete_1lnls_575 ._popoverMenuItemIcon_1lnls_579{color:var(--uifork-accent-delete)}._confirmButton_1lnls_590{padding:4px;box-sizing:border-box;border-radius:4px;background-color:transparent;border:none;cursor:pointer}._confirmIcon_1lnls_599{width:16px;height:16px;color:var(--uifork-accent-success)}._cancelIcon_1lnls_605{width:16px;height:16px;color:var(--uifork-accent-danger)}._newVersionButton_1lnls_612{padding:8px 4px 8px 8px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:transparent;border:none;border-radius:8px;cursor:pointer}._newVersionButton_1lnls_612{display:flex;width:100%;align-items:center;gap:8px;text-align:left;color:var(--uifork-fg)}._newVersionButton_1lnls_612:hover{background-color:var(--uifork-hover-bg)}._newVersionIconContainer_1lnls_637{width:16px;height:16px;flex-shrink:0;display:flex;align-items:center;justify-content:center}._newVersionIcon_1lnls_637{width:16px;height:16px}._componentSelectorDropdown_1lnls_652{position:fixed;z-index:1002;width:max-content;min-width:220px;border-radius:12px;background-color:var(--uifork-bg-dark);box-shadow:var(--uifork-shadow-md);border:1px solid var(--uifork-border-color);padding:4px;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;transform-origin:right center;animation:_popoverFadeIn_1lnls_1 .2s cubic-bezier(.04,1.02,.13,1.02)}._componentSelectorItem_1lnls_680{display:flex;align-items:center;gap:8px;padding:8px 12px;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:transparent;border:none;cursor:pointer;text-align:left;width:100%}._componentSelectorItem_1lnls_680:hover,._componentSelectorItem_1lnls_680._componentSelectorItemSelected_1lnls_695{background-color:var(--uifork-hover-bg)}._componentSelectorItemCheckmarkContainer_1lnls_699{width:16px;height:16px;flex-shrink:0;display:flex;align-items:center;justify-content:center}._componentSelectorItemCheckmark_1lnls_699{width:16px;height:16px}._componentSelectorItemName_1lnls_713{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._componentSelectorItemCount_1lnls_721{margin-left:auto;color:var(--uifork-text-muted);font-size:12px;flex-shrink:0}._componentSelectorDropdownTitle_1lnls_728{font-size:12px;color:var(--uifork-text-muted);margin-bottom:4px;padding-left:4px;box-sizing:border-box;font-weight:500}._componentSelectorDropdownHint_1lnls_737{font-size:11px;color:var(--uifork-text-muted);padding:6px 6px 4px;box-sizing:border-box;line-height:1.4;max-width:230px;display:flex;align-items:flex-start;gap:6px}._componentSelectorDropdownHintIcon_1lnls_749{flex-shrink:0;color:var(--uifork-text-muted);margin-top:1px}._componentSelectorDropdownHintCode_1lnls_755{display:inline-flex;align-items:center;gap:4px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,monospace;font-size:10px;background:var(--uifork-bg-hover);color:var(--uifork-fg);padding:2px 5px;box-sizing:border-box;border-radius:4px}._settingsView_1lnls_769{display:flex;flex-direction:column;gap:12px;padding:8px;box-sizing:border-box}._settingsBackButton_1lnls_777{position:relative;display:flex;align-items:center;gap:4px;padding:0;box-sizing:border-box;font-size:14px;color:var(--uifork-fg);background-color:transparent;border:none;cursor:pointer;text-align:left;z-index:1}._settingsBackButton_1lnls_777:before{content:"";position:absolute;inset:-6px -10px -6px -6px;background-color:transparent;border-radius:8px;transition:background-color .15s;z-index:-1}._settingsBackButton_1lnls_777:hover:before{background-color:var(--uifork-hover-bg)}._settingsBackIcon_1lnls_810{width:16px;height:16px;transform:rotate(180deg);margin-left:-2px}._settingsContent_1lnls_817{flex:1;display:flex;flex-direction:column;gap:12px}._settingsTitle_1lnls_824{font-size:16px;font-weight:500;color:var(--uifork-fg);margin:0 0 8px}._settingsText_1lnls_831{font-size:14px;color:var(--uifork-fg-secondary);margin:0;line-height:1.5}._settingsGroup_1lnls_838{display:flex;align-items:center;gap:8px}._settingsLabel_1lnls_844{font-size:13px;font-weight:500;color:var(--uifork-fg);white-space:nowrap;width:100px;text-align:left;flex-shrink:0}._settingsSelect_1lnls_854{flex:1;padding:0 30px 0 12px;box-sizing:border-box;height:var(--uifork-trigger-height);font-size:14px;color:var(--uifork-fg);background-color:var(--uifork-bg-select);border:1px solid var(--uifork-border-color);border-radius:8px;cursor:pointer;outline:none;transition:background-color .15s,border-color .15s;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12' fill='none'%3E%3Cpath d='M3 4.5L6 7.5L9 4.5' stroke='%23a3a3a3' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 8px center;text-align:left}._settingsSelect_1lnls_854:hover{background-color:var(--uifork-bg-select-hover);border-color:var(--uifork-border-color)}._settingsSelect_1lnls_854:focus{border-color:var(--uifork-border-color);background-color:var(--uifork-bg-select-hover);outline:2px solid var(--uifork-border-color);outline-offset:2px}._settingsSelect_1lnls_854 option{background-color:var(--uifork-bg-dark);color:var(--uifork-fg)}._settingsCheckboxGroup_1lnls_891{display:flex;flex-direction:column;align-items:flex-start;gap:0}._settingsCheckboxLabel_1lnls_898{display:flex;flex-direction:row;gap:10px;width:100%;cursor:pointer;align-items:flex-start}._settingsCheckboxInput_1lnls_907{position:absolute;opacity:0;width:0;height:0;margin:0;pointer-events:none}._settingsCheckboxVisual_1lnls_916{width:16px;height:16px;border-radius:5px;border:1.5px solid var(--uifork-border-color);background-color:transparent;display:flex;align-items:center;justify-content:center;transition:all .15s ease;flex-shrink:0;margin-top:2px}._settingsCheckboxVisualChecked_1lnls_930{background-color:#3b82f6;border-color:#3b82f6}._settingsCheckboxContent_1lnls_935{display:flex;flex-direction:column;gap:0;flex:1}._settingsCheckboxLabelText_1lnls_942{width:auto;margin:0;font-size:14px}._settingsCheckboxDescription_1lnls_948{margin:0;font-size:13px;opacity:.8}._tooltip_1lnls_955{position:fixed;z-index:1003;padding:2px 6px;box-sizing:border-box;font-size:12px;color:var(--uifork-text-primary);background-color:var(--uifork-bg-dark);border:1px solid var(--uifork-border-color);border-radius:6px;box-shadow:var(--uifork-shadow-md);pointer-events:none;white-space:nowrap;opacity:0;transition:opacity .15s ease-in-out;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}._tooltipVisible_1lnls_984{opacity:1}._offlineMessageCommandButton_1lnls_988{display:inline-flex;align-items:center;gap:4px;background-color:transparent;border:none;cursor:pointer;padding:0;box-sizing:border-box;transition:opacity .15s}._offlineMessageCommandButton_1lnls_988:hover{opacity:.8}._offlineMessageCopyIcon_1lnls_1004{width:12px;height:12px;color:var(--uifork-text-muted);flex-shrink:0;transition:color .15s}._offlineMessageCommandButton_1lnls_988:hover ._offlineMessageCopyIcon_1lnls_1004{color:var(--uifork-text-primary)}`)),document.head.appendChild(o)}}catch(r){console.error("vite-plugin-css-injected-by-js",r)}})();
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),x=require("@floating-ui/dom"),Te="_container_1lnls_74",Pe="_containerClosed_1lnls_98",$e="_trigger_1lnls_112",De="_triggerIconOnly_1lnls_129",Le="_triggerEmpty_1lnls_136",Oe="_statusIndicator_1lnls_145",Re="_statusIndicatorConnected_1lnls_151",Ae="_statusIndicatorConnecting_1lnls_155",Fe="_statusIndicatorDisconnected_1lnls_159",He="_statusIndicatorFailed_1lnls_163",Ue="_pulse_1lnls_1",je="_menuItem_1lnls_179",Ke="_triggerSeparator_1lnls_186",Ge="_triggerLabel_1lnls_191",We="_triggerVersion_1lnls_192",Je="_triggerIcon_1lnls_129",Xe="_triggerIconOpen_1lnls_214",qe="_dropdown_1lnls_219",Ye="_componentSelectorRow_1lnls_228",Qe="_componentSelector_1lnls_228",Ze="_componentSelectorLabel_1lnls_257",en="_componentSelectorIcon_1lnls_262",nn="_componentSelectorSettings_1lnls_269",tn="_componentSelectorSettingsIcon_1lnls_286",on="_divider_1lnls_292",ln="_versionsList_1lnls_298",rn="_emptyState_1lnls_318",sn="_emptyStateContainer_1lnls_325",an="_emptyStateHeading_1lnls_336",cn="_emptyStateText_1lnls_343",un="_inlineCode_1lnls_352",dn="_emptyStateCommandContainer_1lnls_362",pn="_emptyStateCommand_1lnls_362",mn="_emptyStateCopyIcon_1lnls_386",fn="_versionItem_1lnls_398",vn="_actions_1lnls_416",gn="_checkmarkContainer_1lnls_421",kn="_checkmarkIcon_1lnls_430",Cn="_versionLabel_1lnls_437",wn="_versionId_1lnls_444",hn="_versionLabelText_1lnls_448",yn="_versionItemEditing_1lnls_453",Vn="_renameInput_1lnls_467",_n="_actionButton_1lnls_490",bn="_actionIcon_1lnls_509",Sn="_disabled_1lnls_520",En="_actionButtonMore_1lnls_526",In="_popover_1lnls_531",Nn="_popoverFadeIn_1lnls_1",Bn="_popoverMenuItem_1lnls_558",xn="_popoverMenuItemDelete_1lnls_575",zn="_popoverMenuItemIcon_1lnls_579",Mn="_confirmButton_1lnls_590",Tn="_confirmIcon_1lnls_599",Pn="_cancelIcon_1lnls_605",$n="_newVersionButton_1lnls_612",Dn="_newVersionIconContainer_1lnls_637",Ln="_newVersionIcon_1lnls_637",On="_componentSelectorDropdown_1lnls_652",Rn="_componentSelectorItem_1lnls_680",An="_componentSelectorItemSelected_1lnls_695",Fn="_componentSelectorItemCheckmarkContainer_1lnls_699",Hn="_componentSelectorItemCheckmark_1lnls_699",Un="_componentSelectorItemName_1lnls_713",jn="_componentSelectorItemCount_1lnls_721",Kn="_componentSelectorDropdownTitle_1lnls_728",Gn="_componentSelectorDropdownHint_1lnls_737",Wn="_componentSelectorDropdownHintIcon_1lnls_749",Jn="_componentSelectorDropdownHintCode_1lnls_755",Xn="_settingsView_1lnls_769",qn="_settingsBackButton_1lnls_777",Yn="_settingsBackIcon_1lnls_810",Qn="_settingsContent_1lnls_817",Zn="_settingsTitle_1lnls_824",et="_settingsText_1lnls_831",nt="_settingsGroup_1lnls_838",tt="_settingsLabel_1lnls_844",ot="_settingsSelect_1lnls_854",lt="_settingsCheckboxGroup_1lnls_891",rt="_settingsCheckboxLabel_1lnls_898",st="_settingsCheckboxInput_1lnls_907",at="_settingsCheckboxVisual_1lnls_916",it="_settingsCheckboxVisualChecked_1lnls_930",ct="_settingsCheckboxContent_1lnls_935",ut="_settingsCheckboxLabelText_1lnls_942",dt="_settingsCheckboxDescription_1lnls_948",pt="_tooltip_1lnls_955",mt="_tooltipVisible_1lnls_984",ft="_offlineMessageCommandButton_1lnls_988",vt="_offlineMessageCopyIcon_1lnls_1004",c={container:Te,containerClosed:Pe,trigger:$e,triggerIconOnly:De,triggerEmpty:Le,statusIndicator:Oe,statusIndicatorConnected:Re,statusIndicatorConnecting:Ae,statusIndicatorDisconnected:Fe,statusIndicatorFailed:He,pulse:Ue,menuItem:je,triggerSeparator:Ke,triggerLabel:Ge,triggerVersion:We,triggerIcon:Je,triggerIconOpen:Xe,dropdown:qe,componentSelectorRow:Ye,componentSelector:Qe,componentSelectorLabel:Ze,componentSelectorIcon:en,componentSelectorSettings:nn,componentSelectorSettingsIcon:tn,divider:on,versionsList:ln,emptyState:rn,emptyStateContainer:sn,emptyStateHeading:an,emptyStateText:cn,inlineCode:un,emptyStateCommandContainer:dn,emptyStateCommand:pn,emptyStateCopyIcon:mn,versionItem:fn,actions:vn,checkmarkContainer:gn,checkmarkIcon:kn,versionLabel:Cn,versionId:wn,versionLabelText:hn,versionItemEditing:yn,renameInput:Vn,actionButton:_n,actionIcon:bn,disabled:Sn,actionButtonMore:En,popover:In,popoverFadeIn:Nn,popoverMenuItem:Bn,popoverMenuItemDelete:xn,popoverMenuItemIcon:zn,confirmButton:Mn,confirmIcon:Tn,cancelIcon:Pn,newVersionButton:$n,newVersionIconContainer:Dn,newVersionIcon:Ln,componentSelectorDropdown:On,componentSelectorItem:Rn,componentSelectorItemSelected:An,componentSelectorItemCheckmarkContainer:Fn,componentSelectorItemCheckmark:Hn,componentSelectorItemName:Un,componentSelectorItemCount:jn,componentSelectorDropdownTitle:Kn,componentSelectorDropdownHint:Gn,componentSelectorDropdownHintIcon:Wn,componentSelectorDropdownHintCode:Jn,settingsView:Xn,settingsBackButton:qn,settingsBackIcon:Yn,settingsContent:Qn,settingsTitle:Zn,settingsText:et,settingsGroup:nt,settingsLabel:tt,settingsSelect:ot,settingsCheckboxGroup:lt,settingsCheckboxLabel:rt,settingsCheckboxInput:st,settingsCheckboxVisual:at,settingsCheckboxVisualChecked:it,settingsCheckboxContent:ct,settingsCheckboxLabelText:ut,settingsCheckboxDescription:dt,tooltip:pt,tooltipVisible:mt,offlineMessageCommandButton:ft,offlineMessageCopyIcon:vt},gt=e.defineComponent({__name:"ChevronDownIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M6 9l6 6l6 -6"},null,-1)])],2))}}),kt=e.defineComponent({__name:"GearIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},null,-1),e.createElementVNode("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},null,-1)])],2))}}),Ct=e.defineComponent({__name:"ComponentSelector",props:{selectedComponent:{}},emits:["toggle","settingsClick"],setup(t,{emit:n}){const o=n;return(s,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(c).componentSelectorRow)},[e.createElementVNode("button",{"data-component-selector":"",onClick:i[0]||(i[0]=d=>o("toggle")),class:e.normalizeClass([e.unref(c).componentSelector,e.unref(c).menuItem])},[e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).componentSelectorLabel)},e.toDisplayString(t.selectedComponent||"Select component"),3),e.createVNode(gt,{class:e.normalizeClass(e.unref(c).componentSelectorIcon)},null,8,["class"])],2),e.createElementVNode("button",{onClick:i[1]||(i[1]=d=>o("settingsClick",d)),class:e.normalizeClass(e.unref(c).componentSelectorSettings),title:"Settings","aria-label":"Open settings"},[e.createVNode(kt,{class:e.normalizeClass(e.unref(c).componentSelectorSettingsIcon)},null,8,["class"])],2)],2))}}),L=e.defineComponent({__name:"CheckmarkIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M5 12l5 5l10 -10"},null,-1)])],2))}}),wt=e.defineComponent({__name:"GitForkIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M7 8v2a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2v-2"></path><path d="M12 12l0 4"></path>',6)])],2))}}),ht=e.defineComponent({__name:"MoreOptionsIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},null,-1),e.createElementVNode("path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},null,-1),e.createElementVNode("path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},null,-1)])],2))}}),yt=e.defineComponent({__name:"PromoteIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M7 8v2a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2v-2"></path><path d="M12 12l0 4"></path>',6)])],2))}}),Vt=e.defineComponent({__name:"OpenInEditorIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"},null,-1),e.createElementVNode("path",{d:"M11 13l9 -9"},null,-1),e.createElementVNode("path",{d:"M15 4h5v5"},null,-1)])],2))}}),_t=e.defineComponent({__name:"DeleteIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>',6)])],2))}}),le=e.defineComponent({__name:"RenameIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"},null,-1),e.createElementVNode("path",{d:"M13.5 6.5l4 4"},null,-1)])],2))}}),A=e.defineComponent({__name:"MenuItem",props:{icon:{},label:{},variant:{},stopPropagation:{type:Boolean}},emits:["click"],setup(t,{emit:n}){const o=t,s=n;function i(d){o.stopPropagation&&d.stopPropagation(),s("click",d)}return(d,l)=>(e.openBlock(),e.createElementBlock("button",{onClick:i,class:e.normalizeClass([e.unref(c).popoverMenuItem,e.unref(c).menuItem,t.variant==="delete"?e.unref(c).popoverMenuItemDelete:""])},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.icon),{class:e.normalizeClass(e.unref(c).popoverMenuItemIcon)},null,8,["class"])),e.createElementVNode("span",null,e.toDisplayString(t.label),1)],2))}});function re({isActive:t,refs:n,onClickOutside:o,additionalCheck:s}){let i=null;const d=()=>typeof t=="function"?t():t.value;e.watch(()=>d(),l=>{i&&(document.removeEventListener("mousedown",i),i=null),l&&(i=r=>{const a=r.target;for(const u of n)if(u.value?.contains(a))return;s?.(a)||o()},document.addEventListener("mousedown",i))},{immediate:!0}),e.onUnmounted(()=>{i&&document.removeEventListener("mousedown",i)})}const bt=e.defineComponent({__name:"VersionActionMenu",props:{version:{},label:{}},emits:["promote","openInEditor","delete","rename","close","setDropdownRef"],setup(t,{emit:n}){const o=t,s=n,i=o.label&&o.label.trim()?"Edit label":"Add label",d=e.ref(null);return e.onMounted(()=>{s("setDropdownRef",d.value)}),e.onUnmounted(()=>{s("setDropdownRef",null)}),re({isActive:e.ref(!0),refs:[d],onClickOutside:()=>s("close"),additionalCheck:l=>!!l.closest?.("[data-actions]")}),(l,r)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"#uifork-root"},[e.createElementVNode("div",{ref_key:"dropdownRef",ref:d,class:e.normalizeClass(e.unref(c).popover),"data-popover-dropdown":"",style:{visibility:"hidden"},role:"menu"},[e.createVNode(A,{icon:le,label:e.unref(i),"stop-propagation":!0,onClick:r[0]||(r[0]=a=>{s("rename",t.version,a),s("close")})},null,8,["label"]),e.createVNode(A,{icon:yt,label:"Promote",onClick:r[1]||(r[1]=a=>{s("promote",t.version,a),s("close")})}),e.createVNode(A,{icon:Vt,label:"Open in editor",onClick:r[2]||(r[2]=a=>{s("openInEditor",t.version,a),s("close")})}),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).divider)},null,2),e.createVNode(A,{icon:_t,label:"Delete",variant:"delete","stop-propagation":!0,onClick:r[3]||(r[3]=a=>{s("delete",t.version,a),s("close")})})],2)]))}});let Y=!1,se=0;const St=1e3;function Et(){Y=!0,se=Date.now()}function te(){Y=!1}function It(){const t=Date.now()-se;return Y||t<St}const H=e.defineComponent({__name:"Tooltip",props:{label:{},placement:{}},setup(t){const n=t,o=e.ref(!1),s=e.ref({x:0,y:0}),i=e.ref(null),d=e.ref(null);let l=null,r=null,a=null;const u=n.placement??"top";e.watch(o,w=>{w?(Et(),e.nextTick(g)):(te(),a&&(a(),a=null))});function g(){if(!i.value||!d.value)return;a&&a();const w=i.value,y=d.value;y.style.visibility="hidden";const _=async()=>{if(!(!w||!y))try{const{x:V,y:m}=await x.computePosition(w,y,{placement:u,strategy:"fixed",middleware:[x.offset(8),x.shift({padding:8})]});s.value={x:V,y:m},y.style.visibility="visible",y.classList.add(c.tooltipVisible)}catch{}};_(),a=x.autoUpdate(w,y,_)}function p(){r&&(clearTimeout(r),r=null),l&&clearTimeout(l);const w=It();l=setTimeout(()=>{o.value=!0,l=null},w?0:300)}function k(){l&&(clearTimeout(l),l=null),r=setTimeout(()=>{o.value=!1,r=null},150)}return e.onUnmounted(()=>{l&&clearTimeout(l),r&&clearTimeout(r),a&&a(),o.value&&te()}),(w,y)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("span",{ref_key:"triggerRef",ref:i,onMouseenter:p,onMouseleave:k,style:{display:"inline-flex"}},[e.renderSlot(w.$slots,"default")],544),o.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:"#uifork-root"},[e.createElementVNode("div",{ref_key:"tooltipRef",ref:d,class:e.normalizeClass(e.unref(c).tooltip),style:e.normalizeStyle({left:`${s.value.x}px`,top:`${s.value.y}px`,visibility:"hidden"}),role:"tooltip"},e.toDisplayString(t.label),7)])):e.createCommentVNode("",!0)],64))}}),Nt=["aria-selected","data-key"],Bt=e.defineComponent({__name:"VersionItem",props:{version:{},label:{},isSelected:{type:Boolean},formatVersionLabel:{type:Function},isPopoverOpen:{type:Boolean},isConnected:{type:Boolean},isDevelopment:{type:Boolean}},emits:["select","duplicate","togglePopover","promote","openInEditor","delete","rename","setPopoverTriggerRef","setPopoverDropdownRef"],setup(t,{emit:n}){const o=t,s=n,i=o.formatVersionLabel(o.version);return(d,l)=>(e.openBlock(),e.createElementBlock("div",{role:"option","aria-selected":t.isSelected,"data-key":t.version,onClick:l[9]||(l[9]=r=>s("select",t.version)),class:e.normalizeClass([e.unref(c).versionItem,e.unref(c).menuItem])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).checkmarkContainer)},[t.isSelected?(e.openBlock(),e.createBlock(L,{key:0,class:e.normalizeClass(e.unref(c).checkmarkIcon)},null,8,["class"])):e.createCommentVNode("",!0)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).versionLabel)},[e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).versionId)},e.toDisplayString(e.unref(i)),3),t.label?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(e.unref(c).versionLabelText)},e.toDisplayString(t.label),3)):e.createCommentVNode("",!0)],2),t.isDevelopment?(e.openBlock(),e.createElementBlock("div",{key:0,"data-actions":"",class:e.normalizeClass([e.unref(c).actions,t.isConnected?"":e.unref(c).disabled]),onClick:l[8]||(l[8]=e.withModifiers(()=>{},["stop"]))},[e.createVNode(H,{label:"Fork version",placement:"top"},{default:e.withCtx(()=>[e.createElementVNode("button",{onClick:l[0]||(l[0]=e.withModifiers(r=>t.isConnected&&s("duplicate",t.version,r),["stop"])),class:e.normalizeClass([e.unref(c).actionButton,t.isConnected?"":e.unref(c).disabled])},[e.createVNode(wt,{class:e.normalizeClass(e.unref(c).actionIcon)},null,8,["class"])],2)]),_:1}),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).actionButtonMore)},[e.createVNode(H,{label:"More options",placement:"top"},{default:e.withCtx(()=>[e.createElementVNode("button",{ref:r=>s("setPopoverTriggerRef",t.version,r),onClick:l[1]||(l[1]=e.withModifiers(r=>s("togglePopover",t.version,r),["stop"])),class:e.normalizeClass(e.unref(c).actionButton)},[e.createVNode(ht,{class:e.normalizeClass(e.unref(c).actionIcon)},null,8,["class"])],2)]),_:1}),t.isPopoverOpen?(e.openBlock(),e.createBlock(bt,{key:0,version:t.version,label:t.label,"is-connected":t.isConnected,onPromote:l[2]||(l[2]=(r,a)=>s("promote",r,a)),onOpenInEditor:l[3]||(l[3]=(r,a)=>s("openInEditor",r,a)),onDelete:l[4]||(l[4]=(r,a)=>s("delete",r,a)),onRename:l[5]||(l[5]=(r,a)=>s("rename",r,a)),onClose:l[6]||(l[6]=r=>s("togglePopover",t.version)),onSetDropdownRef:l[7]||(l[7]=r=>s("setPopoverDropdownRef",t.version,r))},null,8,["version","label","is-connected"])):e.createCommentVNode("",!0)],2)],2)):e.createCommentVNode("",!0)],10,Nt))}}),xt=e.defineComponent({__name:"CancelIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M18 6l-12 12"},null,-1),e.createElementVNode("path",{d:"M6 6l12 12"},null,-1)])],2))}}),zt=["value","placeholder"],Mt=e.defineComponent({__name:"AutoWidthInput",props:{modelValue:{},placeholder:{},class:{},containerStyle:{}},emits:["update:modelValue","keydown","click"],setup(t,{expose:n,emit:o}){const s=t,i=o,d=e.ref(null),l=e.ref(null),r=e.ref(void 0);function a(){if(l.value){const u=s.modelValue||s.placeholder||"";l.value.textContent=u||" ",r.value=l.value.offsetWidth+2}}return e.watch(()=>s.modelValue,a),e.watch(()=>s.placeholder,a),e.onMounted(()=>e.nextTick(a)),n({inputRef:d}),(u,g)=>(e.openBlock(),e.createElementBlock("span",{style:e.normalizeStyle({display:"inline-block",position:"relative",overflow:"hidden",...t.containerStyle})},[e.createElementVNode("span",{ref_key:"measureRef",ref:l,"aria-hidden":"true",style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit",letterSpacing:"inherit",textTransform:"inherit"}},null,512),e.createElementVNode("input",{ref_key:"inputRef",ref:d,type:"text",value:t.modelValue,placeholder:t.placeholder,class:e.normalizeClass(u.$props.class),style:e.normalizeStyle({width:r.value!==void 0?`${r.value}px`:void 0,maxWidth:"100%",font:"inherit",letterSpacing:"inherit",textTransform:"inherit",boxSizing:"border-box",minWidth:"0"}),onInput:g[0]||(g[0]=p=>i("update:modelValue",p.target.value)),onKeydown:g[1]||(g[1]=p=>i("keydown",p)),onClick:g[2]||(g[2]=p=>i("click",p))},null,46,zt)],4))}}),Tt=e.defineComponent({__name:"VersionNameEditor",props:{version:{},value:{},formatVersionLabel:{type:Function}},emits:["update:value","confirm","cancel"],setup(t,{emit:n}){const o=t,s=n,i=e.ref(null),d=o.formatVersionLabel(o.version);return e.onMounted(()=>{e.nextTick(()=>{const l=i.value?.inputRef;l&&(l.focus(),l.select())})}),(l,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass([e.unref(c).versionItemEditing,e.unref(c).menuItem]),onClick:r[5]||(r[5]=e.withModifiers(()=>{},["stop"]))},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).checkmarkContainer)},[e.createVNode(le,{class:e.normalizeClass(e.unref(c).checkmarkIcon)},null,8,["class"])],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).versionLabel)},[e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).versionId)},e.toDisplayString(e.unref(d)),3),e.createVNode(Mt,{ref_key:"inputComp",ref:i,"model-value":t.value,"onUpdate:modelValue":r[0]||(r[0]=a=>s("update:value",a)),onKeydown:r[1]||(r[1]=a=>{a.key==="Enter"?(a.preventDefault(),a.stopPropagation(),s("confirm",t.version)):a.key==="Escape"&&(a.preventDefault(),a.stopPropagation(),s("cancel"))}),onClick:r[2]||(r[2]=e.withModifiers(()=>{},["stop"])),class:e.normalizeClass(e.unref(c).renameInput),placeholder:"Add label","container-style":{minWidth:"60px",maxWidth:"220px"}},null,8,["model-value","class"])],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).actions),style:{opacity:1}},[e.createVNode(H,{label:"Confirm",placement:"top"},{default:e.withCtx(()=>[e.createElementVNode("button",{onClick:r[3]||(r[3]=e.withModifiers(a=>s("confirm",t.version),["stop"])),class:e.normalizeClass(e.unref(c).actionButton)},[e.createVNode(L,{class:e.normalizeClass(e.unref(c).actionIcon)},null,8,["class"])],2)]),_:1}),e.createVNode(H,{label:"Cancel",placement:"top"},{default:e.withCtx(()=>[e.createElementVNode("button",{onClick:r[4]||(r[4]=e.withModifiers(a=>s("cancel"),["stop"])),class:e.normalizeClass(e.unref(c).actionButton)},[e.createVNode(xt,{class:e.normalizeClass(e.unref(c).actionIcon)},null,8,["class"])],2)]),_:1})],2)],2))}});function Q(){return typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname.startsWith("127.0.0.1")||window.location.hostname.startsWith("192.168.")||window.location.protocol==="file:")}const Pt=e.defineComponent({__name:"VersionsList",props:{versions:{},activeVersion:{},editingVersion:{},renameValue:{},formatVersionLabel:{type:Function},openPopoverVersion:{},popoverPositions:{},isConnected:{type:Boolean}},emits:["selectVersion","duplicateVersion","togglePopover","promoteVersion","openInEditor","deleteVersion","renameVersion","renameValueChange","confirmRename","cancelRename","setPopoverTriggerRef","setPopoverDropdownRef"],setup(t,{emit:n}){const o=t,s=n,i=()=>[...o.versions].reverse();return(d,l)=>t.versions.length===0?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(c).emptyState)},"No versions found",2)):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(e.unref(c).versionsList)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i(),r=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:r.key},[t.editingVersion===r.key?(e.openBlock(),e.createBlock(Tt,{key:0,version:r.key,value:t.renameValue,"format-version-label":t.formatVersionLabel,"onUpdate:value":l[0]||(l[0]=a=>s("renameValueChange",a)),onConfirm:l[1]||(l[1]=a=>s("confirmRename",a)),onCancel:l[2]||(l[2]=a=>s("cancelRename"))},null,8,["version","value","format-version-label"])):(e.openBlock(),e.createBlock(Bt,{key:1,version:r.key,label:r.label,"is-selected":r.key===t.activeVersion,"format-version-label":t.formatVersionLabel,"is-popover-open":t.openPopoverVersion===r.key,"is-connected":t.isConnected,"is-development":e.unref(Q)(),onSelect:l[3]||(l[3]=a=>s("selectVersion",a)),onDuplicate:l[4]||(l[4]=(a,u)=>s("duplicateVersion",a,u)),onTogglePopover:l[5]||(l[5]=(a,u)=>s("togglePopover",a,u)),onPromote:l[6]||(l[6]=(a,u)=>s("promoteVersion",a,u)),onOpenInEditor:l[7]||(l[7]=(a,u)=>s("openInEditor",a,u)),onDelete:l[8]||(l[8]=(a,u)=>s("deleteVersion",a,u)),onRename:l[9]||(l[9]=(a,u)=>s("renameVersion",a,u)),onSetPopoverTriggerRef:l[10]||(l[10]=(a,u)=>s("setPopoverTriggerRef",a,u)),onSetPopoverDropdownRef:l[11]||(l[11]=(a,u)=>s("setPopoverDropdownRef",a,u))},null,8,["version","label","is-selected","format-version-label","is-popover-open","is-connected","is-development"]))],64))),128))],2))}}),ae=e.defineComponent({__name:"ChevronRightIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M9 6l6 6l-6 6"},null,-1)])],2))}}),$t=["value"],Dt=["value"],Lt=["value"],Ot=e.defineComponent({__name:"SettingsView",props:{theme:{},position:{},codeEditor:{}},emits:["back","update:theme","update:position","update:codeEditor"],setup(t,{emit:n}){const o=n;return(s,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(c).settingsView)},[e.createElementVNode("button",{onClick:i[0]||(i[0]=d=>o("back")),class:e.normalizeClass(e.unref(c).settingsBackButton),style:{width:"auto",alignSelf:"flex-start"}},[e.createVNode(ae,{class:e.normalizeClass(e.unref(c).settingsBackIcon)},null,8,["class"]),i[4]||(i[4]=e.createElementVNode("span",null,"Back",-1))],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).settingsContent)},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).settingsGroup)},[e.createElementVNode("label",{class:e.normalizeClass(e.unref(c).settingsLabel)},"Theme",2),e.createElementVNode("select",{value:t.theme,onChange:i[1]||(i[1]=d=>o("update:theme",d.target.value)),class:e.normalizeClass(e.unref(c).settingsSelect)},[...i[5]||(i[5]=[e.createElementVNode("option",{value:"light"},"Light",-1),e.createElementVNode("option",{value:"dark"},"Dark",-1),e.createElementVNode("option",{value:"system"},"System",-1)])],42,$t)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).settingsGroup)},[e.createElementVNode("label",{class:e.normalizeClass(e.unref(c).settingsLabel)},"Position",2),e.createElementVNode("select",{value:t.position,onChange:i[2]||(i[2]=d=>o("update:position",d.target.value)),class:e.normalizeClass(e.unref(c).settingsSelect)},[...i[6]||(i[6]=[e.createElementVNode("option",{value:"top-left"},"Top left",-1),e.createElementVNode("option",{value:"top-right"},"Top right",-1),e.createElementVNode("option",{value:"bottom-left"},"Bottom left",-1),e.createElementVNode("option",{value:"bottom-right"},"Bottom right",-1)])],42,Dt)],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).settingsGroup)},[e.createElementVNode("label",{class:e.normalizeClass(e.unref(c).settingsLabel)},"Code editor",2),e.createElementVNode("select",{value:t.codeEditor,onChange:i[3]||(i[3]=d=>o("update:codeEditor",d.target.value)),class:e.normalizeClass(e.unref(c).settingsSelect)},[...i[7]||(i[7]=[e.createElementVNode("option",{value:"vscode"},"VSCode",-1),e.createElementVNode("option",{value:"cursor"},"Cursor",-1)])],42,Lt)],2)],2)],2))}}),ie=e.defineComponent({__name:"CopyIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"},null,-1),e.createElementVNode("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"},null,-1)])],2))}}),Rt=e.defineComponent({__name:"EmptyStateNoComponents",props:{copied:{type:Boolean}},emits:["copyCommand"],setup(t,{emit:n}){const o=n;return(s,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(e.unref(c).emptyStateContainer)},[e.createElementVNode("h3",{class:e.normalizeClass(e.unref(c).emptyStateHeading)},"Get started with uifork",2),e.createElementVNode("p",{class:e.normalizeClass(e.unref(c).emptyStateText)}," Choose a component and run the command in your root directory ",2),e.createElementVNode("button",{onClick:i[0]||(i[0]=d=>o("copyCommand")),class:e.normalizeClass(e.unref(c).emptyStateCommandContainer),title:"Copy command","aria-label":"Copy command to clipboard"},[e.createElementVNode("code",{class:e.normalizeClass(e.unref(c).emptyStateCommand)},"npx uifork-vue <path to file>",2),t.copied?(e.openBlock(),e.createBlock(L,{key:0,class:e.normalizeClass(e.unref(c).emptyStateCopyIcon)},null,8,["class"])):(e.openBlock(),e.createBlock(ie,{key:1,class:e.normalizeClass(e.unref(c).emptyStateCopyIcon)},null,8,["class"]))],2)],2))}}),At=e.defineComponent({__name:"PlusIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M12 5l0 14"},null,-1),e.createElementVNode("path",{d:"M5 12l14 0"},null,-1)])],2))}}),Ft=["title","aria-disabled"],Ht=e.defineComponent({__name:"NewVersionButton",props:{disabled:{type:Boolean}},emits:["click"],setup(t,{emit:n}){const o=n;return(s,i)=>(e.openBlock(),e.createElementBlock("button",{onClick:i[0]||(i[0]=d=>t.disabled?void 0:o("click",d)),class:e.normalizeClass([e.unref(c).newVersionButton,e.unref(c).menuItem,t.disabled?e.unref(c).disabled:""]),title:t.disabled?"Connect to server to create new versions":"Create new version","aria-disabled":t.disabled},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).newVersionIconContainer)},[e.createVNode(At,{class:e.normalizeClass(e.unref(c).newVersionIcon)},null,8,["class"])],2),i[1]||(i[1]=e.createElementVNode("span",null,"New version",-1))],10,Ft))}}),Ut=e.defineComponent({__name:"OfflineMessage",setup(t){const n=e.ref(!1);async function o(){const s="npx uifork-vue watch";try{await navigator.clipboard.writeText(s),n.value=!0,setTimeout(()=>n.value=!1,2e3)}catch{}}return(s,i)=>e.unref(Q)()?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(c).componentSelectorDropdownHint)},[e.createElementVNode("span",null,[i[1]||(i[1]=e.createTextVNode(" Run"+e.toDisplayString(" ")+" ",-1)),e.createElementVNode("button",{onClick:o,class:e.normalizeClass(e.unref(c).offlineMessageCommandButton),title:"Copy command","aria-label":"Copy command to clipboard"},[e.createElementVNode("code",{class:e.normalizeClass(e.unref(c).componentSelectorDropdownHintCode)},[i[0]||(i[0]=e.createTextVNode(" npx uifork-vue watch"+e.toDisplayString(" ")+" ",-1)),n.value?(e.openBlock(),e.createBlock(L,{key:0,class:e.normalizeClass(e.unref(c).offlineMessageCopyIcon)},null,8,["class"])):(e.openBlock(),e.createBlock(ie,{key:1,class:e.normalizeClass(e.unref(c).offlineMessageCopyIcon)},null,8,["class"]))],2)],2),i[2]||(i[2]=e.createTextVNode(" "+e.toDisplayString(" ")+"to fork, create, and promote versions from here. ",-1))])],2)):e.createCommentVNode("",!0)}}),oe=e.defineComponent({__name:"ForkIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":1.5,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createStaticVNode('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M7 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M7 8l0 8"></path><path d="M9 18h6a2 2 0 0 0 2 -2v-5"></path><path d="M14 14l3 -3l3 3"></path>',7)])],2))}}),jt=e.defineComponent({__name:"TriggerContent",props:{hasSelection:{type:Boolean},selectedComponent:{},activeVersion:{},activeVersionLabel:{},formatVersionLabel:{type:Function}},setup(t){const n=t,o=()=>n.activeVersionLabel||(n.activeVersion?n.formatVersionLabel(n.activeVersion):"-");return(s,i)=>t.hasSelection?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(oe,{class:e.normalizeClass(e.unref(c).triggerIcon)},null,8,["class"]),e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).triggerLabel)},e.toDisplayString(t.selectedComponent),3),e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).triggerVersion)},e.toDisplayString(o()),3)],64)):(e.openBlock(),e.createBlock(oe,{key:0,class:e.normalizeClass(e.unref(c).triggerIcon)},null,8,["class"]))}}),Kt=e.defineComponent({__name:"InfoIcon",props:{class:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round",class:e.normalizeClass(n.$props.class)},[...o[0]||(o[0]=[e.createElementVNode("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),e.createElementVNode("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},null,-1),e.createElementVNode("path",{d:"M12 9h.01"},null,-1),e.createElementVNode("path",{d:"M11 12h1v4h1"},null,-1)])],2))}});function Gt({port:t,selectedComponent:n,onFileChanged:o,onComponentsUpdate:s,onVersionAck:i,onPromoted:d,onError:l}){const r=e.ref("disconnected");let a=null,u=null,g=!1,p=!0,k=!1,w=0;function y(){if(a?.readyState===WebSocket.OPEN||g)return;const V=`ws://localhost:${t}/ws`;g=!0,(w===0||k)&&r.value!=="failed"&&(r.value="connecting"),w++;const m=new WebSocket(V);let C=!1;m.onopen=()=>{C=!0,k=!0,w=0,g=!1,r.value="connected",a=m,o?.(),u&&(clearTimeout(u),u=null)},m.onclose=()=>{g=!1,C?r.value="disconnected":r.value!=="failed"&&(r.value="failed"),a=null,p&&(u&&clearTimeout(u),u=setTimeout(()=>{u=null,p&&y()},3e3))},m.onerror=()=>{g=!1,C?r.value="disconnected":r.value!=="failed"&&(r.value="failed")},m.onmessage=E=>{try{const b=JSON.parse(E.data);if(b.type==="components"&&b.payload?.components)s?.(b.payload.components);else if(b.type==="file_changed")o?.();else if(b.type==="ack"&&b.payload?.version){const I=b.payload.message||"",P=b.payload.newVersion;if(I.includes("promoted")){const N=b.payload.component||n();d?.(N);return}i?.({version:b.payload.version,message:I,newVersion:P})}else b.type==="error"&&l?.(b.payload?.message||"Unknown error")}catch{}}}function _(V,m){a&&a.readyState===WebSocket.OPEN&&a.send(JSON.stringify({type:V,payload:{...m,component:n()}}))}return e.onMounted(()=>{p=!0,w=0,y()}),e.onUnmounted(()=>{p=!1,u&&(clearTimeout(u),u=null),a?.readyState===WebSocket.OPEN&&a.close()}),{connectionStatus:r,sendMessage:_}}function M(t,n,o=!1){const s=e.ref(i());function i(){if(typeof window>"u")return n;try{const l=window.localStorage.getItem(t);return l?JSON.parse(l):n}catch{return n}}function d(l){try{const r=l instanceof Function?l(s.value):l;s.value=r,typeof window<"u"&&(r===""&&typeof n=="string"?(window.localStorage.removeItem(t),o&&window.dispatchEvent(new StorageEvent("storage",{key:t,newValue:null}))):(window.localStorage.setItem(t,JSON.stringify(r)),o&&window.dispatchEvent(new StorageEvent("storage",{key:t,newValue:JSON.stringify(r)}))))}catch{}}if(o&&typeof window<"u"){const l=r=>{if(r.key===t&&r.newValue)try{s.value=JSON.parse(r.newValue)}catch{}};e.onMounted(()=>{window.addEventListener("storage",l)}),e.onUnmounted(()=>{window.removeEventListener("storage",l)})}return[s,d]}const z=new Map,q=new Set,ce=new Map;function U(t,n=[],o){o&&ce.set(t,o);const s=z.get(t);s?z.set(t,{versions:n,refCount:s.refCount+1}):(z.set(t,{versions:n,refCount:1}),de())}function ue(t){const n=z.get(t);n&&(n.refCount>1?z.set(t,{versions:n.versions,refCount:n.refCount-1}):(z.delete(t),de()))}function Wt(t){return z.has(t)}function Jt(){return Array.from(z.keys())}function Xt(){return Array.from(z.entries()).map(([t,{versions:n}])=>({name:t,versions:n}))}function qt(t){return ce.get(t)}function Yt(t){return q.add(t),()=>{q.delete(t)}}function de(){q.forEach(t=>t())}function Qt({port:t}){const n=e.ref([]),o=e.ref([]),s=e.ref([]),[i,d]=M("uifork-selected-component","",!0),l=e.computed(()=>{if(n.value.length===0)return o.value.map(k=>({name:k.name,path:"",versions:k.versions}));const p=n.value.map(k=>{const w=o.value.find(_=>_.name===k.name),y=k.versions.map(_=>{const V=w?.versions.find(m=>m.key===_);return{key:_,label:V?.label}});return{name:k.name,path:k.path,versions:y}});for(const k of o.value)n.value.find(w=>w.name===k.name)||p.push({name:k.name,path:"",versions:k.versions});return p}),r=e.computed(()=>l.value.filter(p=>s.value.includes(p.name)));function a(p){n.value=p,!i.value&&p.length>0&&d(p[0].name)}let u=null;e.onMounted(()=>{const p=()=>{s.value=Jt(),o.value=Xt()};p(),u=Yt(p)}),e.onUnmounted(()=>{u?.()}),e.watch([i,l],([p,k])=>{!p&&k.length>0&&d(k[0].name)});const g=e.computed(()=>l.value);return{components:l,mountedComponents:r,allKnownComponents:g,mountedComponentIds:s,selectedComponent:i,setSelectedComponent:d,onComponentsUpdate:a}}const F="uifork-component-";function Zt({selectedComponent:t,versions:n}){const o=e.computed(()=>n().map(m=>m.key)),s=e.computed(()=>`${F}${t()||"uifork-default"}`),i=e.ref(d(s.value));function d(m){if(typeof window>"u")return"";try{const C=window.localStorage.getItem(m);return C?JSON.parse(C):""}catch{return""}}function l(m,C){if(!(typeof window>"u"))try{C===""?window.localStorage.removeItem(m):window.localStorage.setItem(m,JSON.stringify(C)),window.dispatchEvent(new StorageEvent("storage",{key:m,newValue:C===""?null:JSON.stringify(C)}))}catch{}}function r(m){const C=m instanceof Function?m(i.value):m;i.value=C,l(s.value,C)}e.watch(s,m=>{i.value=d(m)});let a=null;typeof window<"u"&&(a=m=>{if(m.key===s.value&&m.newValue)try{i.value=JSON.parse(m.newValue)}catch{}},window.addEventListener("storage",a)),e.onUnmounted(()=>{a&&window.removeEventListener("storage",a)});const u=e.ref(null),g=e.ref("");e.watch([()=>t(),o,i],([m,C,E])=>{if(m&&C.length>0){const b=`${F}${m}-pending-version`,I=localStorage.getItem(b);if(I&&C.includes(I))r(I),localStorage.removeItem(b);else if(!C.includes(E)){const P=`${F}${m}`,N=localStorage.getItem(P),S=N?JSON.parse(N):null;S&&C.includes(S)?r(S):r(C[0])}}},{immediate:!0});function p(m){const C=`${F}${t()}-pending-version`;localStorage.setItem(C,m)}function k(m){return n().find(C=>C.key===m)?.label}function w(m){u.value=m;const C=k(m)||"";g.value=C}function y(m){const C=g.value.trim(),E=k(m)||"";return C===E?(u.value=null,g.value="",null):(u.value=null,g.value="",C)}function _(){u.value=null,g.value=""}function V(){u.value&&(u.value=null,g.value="")}return{activeVersion:i,setActiveVersion:r,editingVersion:u,renameValue:g,startRename:w,confirmRename:y,cancelRename:_,clearEditingOnError:V,storePendingVersion:p,versionKeys:o}}function eo({openPopoverVersion:t}){const n=new Map,o=new Map,s=new Map;let i=null,d=null;e.watch(t,a=>{if(i&&(i(),i=null),d&&(cancelAnimationFrame(d),d=null),!a)return;let u=!1;const g=()=>{const p=n.get(a),k=o.get(a);if(!p||!k){u||(d=requestAnimationFrame(g));return}const w=async()=>{if(!u)try{const{x:y,y:_}=await x.computePosition(p,k,{placement:"bottom-end",strategy:"fixed",middleware:[x.offset(4),x.flip({fallbackPlacements:["bottom-start","top-end","top-start"]}),x.shift({padding:8})]});u||(s.set(a,{x:y,y:_}),k.style.left=`${y}px`,k.style.top=`${_}px`,k.style.visibility="visible",k.classList.add(c.popoverVisible))}catch{}};k.style.visibility="hidden",w(),i=x.autoUpdate(p,k,w)};d=requestAnimationFrame(g),i=()=>{u=!0,d&&cancelAnimationFrame(d);const p=o.get(a);p&&p.classList.remove(c.popoverVisible)}}),e.onUnmounted(()=>{i&&i(),d&&cancelAnimationFrame(d)});function l(a,u){u?n.set(a,u):n.delete(a)}function r(a,u){u?o.set(a,u):o.delete(a)}return{popoverPositions:s,setPopoverTriggerRef:l,setPopoverDropdownRef:r}}function no({versionKeys:t,activeVersion:n,setActiveVersion:o,mountedComponents:s,selectedComponent:i,setSelectedComponent:d}){function l(r){if(!r.metaKey&&!r.ctrlKey||r.key!=="ArrowDown"&&r.key!=="ArrowUp")return;const a=t(),u=s();if(u.length===0)return;r.preventDefault();const g=a.indexOf(n.value);if(r.key==="ArrowUp"){const p=g+1;if(p<a.length)o(a[p]);else if(u.length>1){const w=(u.findIndex(_=>_.name===i.value)+1)%u.length,y=u[w];d(y.name)}}if(r.key==="ArrowDown"){const p=g-1;if(p>=0)o(a[p]);else if(u.length>1){const w=(u.findIndex(_=>_.name===i.value)-1+u.length)%u.length,y=u[w];d(y.name)}}}e.onMounted(()=>{window.addEventListener("keydown",l,{capture:!0})}),e.onUnmounted(()=>{window.removeEventListener("keydown",l,{capture:!0})})}function to({isOpen:t,triggerRef:n,openPopoverVersion:o,isComponentSelectorOpen:s,editingVersion:i,onClosePopover:d,onCloseComponentSelector:l,onCancelRename:r,onClose:a}){let u=null;e.watch(t,g=>{u&&(document.removeEventListener("keydown",u),u=null),g&&(u=p=>{if(p.key==="Escape"){if(o.value){d();return}if(s.value){l();return}if(i.value){r();return}a(),n.value?.focus()}},document.addEventListener("keydown",u))},{immediate:!0}),e.onUnmounted(()=>{u&&document.removeEventListener("keydown",u)})}const oo=.3;function lo({isOpen:t,containerRef:n,setPosition:o}){const s=e.ref(!1),i=e.ref(!1),d=5;let l=null,r=!1,a=0,u=0,g=0,p=0;function k(V,m){const C=window.innerWidth/2,E=window.innerHeight/2;return V<C&&m<E?"top-left":V>=C&&m<E?"top-right":V<C&&m>=E?"bottom-left":"bottom-right"}function w(V){t.value||(l={x:V.clientX,y:V.clientY},r=!1,a=g,u=p,n.value&&n.value.setAttribute("data-drag-tracking","true"),window.addEventListener("pointermove",y),window.addEventListener("pointerup",_))}function y(V){if(!l||t.value)return;const m=V.clientX-l.x,C=V.clientY-l.y;Math.sqrt(m*m+C*C)>d&&!r&&(r=!0,s.value=!0,i.value=!1,document.body.style.setProperty("cursor","grabbing","important"),document.body.style.userSelect="none",n.value&&(n.value.style.setProperty("cursor","grabbing","important"),n.value.setAttribute("data-dragging","true"))),r&&n.value&&(g=a+m,p=u+C,n.value.style.transform=`translate(${g}px, ${p}px)`)}function _(){if(window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",_),!r){l=null,document.body.style.removeProperty("cursor"),n.value&&(n.value.style.removeProperty("cursor"),n.value.removeAttribute("data-drag-tracking"));return}if(s.value=!1,document.body.style.removeProperty("cursor"),document.body.style.userSelect="",n.value&&(n.value.style.removeProperty("cursor"),n.value.removeAttribute("data-drag-tracking"),n.value.removeAttribute("data-dragging")),n.value){const V=n.value.getBoundingClientRect(),m=V.left+V.width/2,C=V.top+V.height/2,E=k(m,C);o(E),n.value.style.transform="",g=0,p=0,i.value=!0,setTimeout(()=>{i.value=!1},oo*1e3+50)}l=null,r=!1}return e.watch(t,V=>{V&&(s.value||r)&&(s.value=!1,r=!1,l=null,document.body.style.cursor="",document.body.style.userSelect="")}),e.onUnmounted(()=>{window.removeEventListener("pointermove",y),window.removeEventListener("pointerup",_),document.body.style.removeProperty("cursor"),document.body.style.userSelect="",n.value&&(n.value.style.removeProperty("cursor"),n.value.removeAttribute("data-drag-tracking"),n.value.removeAttribute("data-dragging"))}),{isDragging:s,resetDrag:i,handlePointerDown:w}}function ro(t,n=20){return{"top-left":{top:`${n}px`,left:`${n}px`,bottom:"auto",right:"auto"},"top-right":{top:`${n}px`,right:`${n}px`,bottom:"auto",left:"auto"},"bottom-left":{bottom:`${n}px`,left:`${n}px`,top:"auto",right:"auto"},"bottom-right":{bottom:`${n}px`,right:`${n}px`,top:"auto",left:"auto"}}[t]}function so(t){return{"top-left":"top left","top-right":"top right","bottom-left":"bottom left","bottom-right":"bottom right"}[t]}function ao({position:t}){const n=e.computed(()=>ro(t.value)),o=e.computed(()=>so(t.value));return{containerPosition:n,transformOrigin:o}}const io={style:{display:"flex",flexDirection:"column",gap:"2px",padding:"0 4px"}},co=["onClick"],uo="uifork-component-",po=e.defineComponent({__name:"UIFork",props:{port:{default:3030},className:{default:""},style:{}},setup(t){const n=t,o=e.ref(!1),s=e.ref(!1),i=e.ref(!1),d=e.ref(!1),l=e.ref(null),r=e.ref(!1),a=e.ref(null),u=e.ref(null),g=e.ref(null),p=e.ref(null),[k,w]=M("uifork-theme","system"),[y,_]=M("uifork-position","bottom-right"),[V,m]=M("uifork-code-editor","vscode"),{containerPosition:C,transformOrigin:E}=ao({position:y}),{isDragging:b,handlePointerDown:I}=lo({isOpen:s,containerRef:g,setPosition:_}),{mountedComponents:P,allKnownComponents:N,selectedComponent:S,setSelectedComponent:j,onComponentsUpdate:pe}=Qt({port:n.port}),me=e.computed(()=>N.value.find(f=>f.name===S.value)),$=e.computed(()=>me.value?.versions||[]),Z=f=>$.value.find(v=>v.key===f)?.label;e.watch(S,f=>{if(!f||Wt(f))return;const v=qt(f);if(!v)return;const h=`${uo}${v.id}`,B=JSON.stringify(v.version);window.localStorage.setItem(h,B),window.dispatchEvent(new StorageEvent("storage",{key:h,newValue:B}))});const{activeVersion:O,setActiveVersion:ee,editingVersion:K,renameValue:ne,startRename:fe,confirmRename:ve,cancelRename:G,clearEditingOnError:ge,storePendingVersion:ke,versionKeys:Ce}=Zt({selectedComponent:()=>S.value,versions:()=>$.value}),{connectionStatus:we,sendMessage:D}=Gt({port:n.port,selectedComponent:()=>S.value,onComponentsUpdate:pe,onVersionAck:({version:f,message:v,newVersion:h})=>{let B=null;v?.includes("duplicated")||v?.includes("created new version")?B=f:v?.includes("renamed")&&h&&(B=h),B&&ke(B)},onPromoted:f=>{const v=localStorage.getItem("uifork-selected-component"),h=v?JSON.parse(v):null;if(S.value===f||h===f){localStorage.removeItem("uifork-selected-component"),j("");const R=()=>{const X=localStorage.getItem("uifork-selected-component");if(X)try{JSON.parse(X)===f&&localStorage.removeItem("uifork-selected-component")}catch{X===f&&localStorage.removeItem("uifork-selected-component")}};R(),setTimeout(R,0),setTimeout(R,50),setTimeout(R,100)}},onError:ge}),{popoverPositions:he,setPopoverTriggerRef:ye,setPopoverDropdownRef:Ve}=eo({openPopoverVersion:l});no({versionKeys:()=>Ce.value,activeVersion:O,setActiveVersion:ee,mountedComponents:()=>P.value,selectedComponent:S,setSelectedComponent:j}),to({isOpen:s,triggerRef:u,openPopoverVersion:l,isComponentSelectorOpen:i,editingVersion:K,onClosePopover:()=>l.value=null,onCloseComponentSelector:()=>i.value=!1,onCancelRename:G,onClose:()=>{s.value=!1,d.value=!1}}),re({isActive:s,refs:[u,g],onClickOutside:()=>{K.value&&G(),s.value=!1,d.value=!1,i.value=!1},additionalCheck:f=>{const v=document.querySelectorAll("[data-popover-dropdown]");for(const h of v)if(h.contains(f))return!0;return!1}}),e.onMounted(()=>{o.value=!0,e.nextTick(()=>{let f=document.getElementById("uifork-root");f||(f=document.createElement("div"),f.id="uifork-root",f.className=c.uiforkRoot||"uiforkRoot",document.body.appendChild(f)),a.value=f,f.setAttribute("data-theme",k.value)})}),e.watch(k,f=>{const v=document.getElementById("uifork-root");v&&v.setAttribute("data-theme",f)});const W=e.computed(()=>we.value==="connected"),T=e.computed(()=>s.value?i.value?"opened-component-selector":d.value?"opened-settings":N.value.length===0?"opened-no-components":"opened-version-list":N.value.length>0?"closed-trigger-label":"closed-trigger-icon");function _e(f,v){v.stopPropagation(),D("duplicate_version",{version:f})}function be(f,v){v.stopPropagation(),D("delete_version",{version:f})}function Se(f){f.stopPropagation(),D("new_version",{})}function Ee(f,v){v.stopPropagation(),fe(f)}function Ie(f){const v=ve(f);v!==null&&D("rename_label",{version:f,newLabel:v})}function Ne(f,v){v.stopPropagation();const h=Z(f)||J(f);window.confirm(`Are you sure you want to promote version ${h}?

This will:
- Replace the main component with this version
- Remove all versioning scaffolding
- This action cannot be undone`)&&(D("promote_version",{version:f}),l.value=null)}function Be(f,v){v?.stopPropagation(),l.value=l.value===f?null:f}async function xe(f,v){v.stopPropagation();try{const h=await fetch(`http://localhost:${n.port}/open-in-editor`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:f,component:S.value,editor:V.value})});h.ok||await h.json()}catch{}l.value=null}function J(f){return f.replace(/^v/,"V").replace(/_/g,".")}async function ze(){const f="npx uifork-vue  ";try{await navigator.clipboard.writeText(f),r.value=!0,setTimeout(()=>r.value=!1,2e3)}catch{}}function Me(f){if(b.value){f.preventDefault();return}s.value=!0,d.value=!1}return(f,v)=>o.value&&a.value?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:"#uifork-root"},[e.createElementVNode("div",{ref_key:"containerRef",ref:g,class:e.normalizeClass([e.unref(c).container,s.value?"":e.unref(c).containerClosed,n.className]),style:e.normalizeStyle({borderRadius:s.value?"12px":"16px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",...e.unref(C),transformOrigin:e.unref(E),touchAction:s.value?"auto":"none",transition:"border-radius 0.3s cubic-bezier(0.04, 1.02, 0.13, 1.02), top 0.3s cubic-bezier(0.04, 1.02, 0.13, 1.02), right 0.3s cubic-bezier(0.04, 1.02, 0.13, 1.02), bottom 0.3s cubic-bezier(0.04, 1.02, 0.13, 1.02), left 0.3s cubic-bezier(0.04, 1.02, 0.13, 1.02)",...n.style}),onPointerdown:v[6]||(v[6]=(...h)=>e.unref(I)&&e.unref(I)(...h))},[T.value==="closed-trigger-icon"||T.value==="closed-trigger-label"?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"triggerRef",ref:u,onClick:Me,"aria-label":"Select UI version","aria-expanded":!1,"aria-haspopup":"listbox",class:e.normalizeClass([e.unref(c).trigger,!e.unref(S)||$.value.length===0?e.unref(c).triggerIconOnly:""]),draggable:!1},[e.createVNode(jt,{"has-selection":!!e.unref(S)&&$.value.length>0,"selected-component":e.unref(S),"active-version":e.unref(O),"active-version-label":Z(e.unref(O)),"format-version-label":J},null,8,["has-selection","selected-component","active-version","active-version-label"])],2)):(e.openBlock(),e.createElementBlock("div",{key:1,ref_key:"dropdownRef",ref:p,role:"listbox","aria-label":"UI version options",class:e.normalizeClass(e.unref(c).dropdown)},[T.value==="opened-no-components"?(e.openBlock(),e.createBlock(Rt,{key:0,copied:r.value,onCopyCommand:ze},null,8,["copied"])):e.createCommentVNode("",!0),T.value==="opened-settings"?(e.openBlock(),e.createBlock(Ot,{key:1,theme:e.unref(k),position:e.unref(y),"code-editor":e.unref(V),onBack:v[0]||(v[0]=h=>d.value=!1),"onUpdate:theme":e.unref(w),"onUpdate:position":e.unref(_),"onUpdate:codeEditor":e.unref(m)},null,8,["theme","position","code-editor","onUpdate:theme","onUpdate:position","onUpdate:codeEditor"])):e.createCommentVNode("",!0),T.value==="opened-component-selector"?(e.openBlock(),e.createElementBlock("div",{key:2,class:e.normalizeClass(e.unref(c).settingsView)},[e.createElementVNode("button",{onClick:v[1]||(v[1]=h=>i.value=!1),class:e.normalizeClass(e.unref(c).settingsBackButton),style:{width:"auto",alignSelf:"flex-start"}},[e.createVNode(ae,{class:e.normalizeClass(e.unref(c).settingsBackIcon)},null,8,["class"]),v[7]||(v[7]=e.createElementVNode("span",null,"Back",-1))],2),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).componentSelectorDropdownTitle),style:{padding:"4px 8px"}},"Forked components",2),e.createElementVNode("div",io,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(N),h=>(e.openBlock(),e.createElementBlock("button",{key:h.name,onClick:B=>{e.unref(j)(h.name),i.value=!1},class:e.normalizeClass([e.unref(c).componentSelectorItem,e.unref(c).menuItem,h.name===e.unref(S)?e.unref(c).componentSelectorItemSelected:""])},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).componentSelectorItemCheckmarkContainer)},[h.name===e.unref(S)?(e.openBlock(),e.createBlock(L,{key:0,class:e.normalizeClass(e.unref(c).componentSelectorItemCheckmark)},null,8,["class"])):e.createCommentVNode("",!0)],2),e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).componentSelectorItemName)},e.toDisplayString(h.name),3),e.createElementVNode("span",{class:e.normalizeClass(e.unref(c).componentSelectorItemCount)},e.toDisplayString(h.versions.length),3)],10,co))),128))]),W.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(c).componentSelectorDropdownHint),style:{padding:"8px 12px"}},[e.createVNode(Kt,{class:e.normalizeClass(e.unref(c).componentSelectorDropdownHintIcon)},null,8,["class"]),e.createElementVNode("span",null,[v[8]||(v[8]=e.createTextVNode(" Use ",-1)),e.createElementVNode("code",{class:e.normalizeClass(e.unref(c).componentSelectorDropdownHintCode)},"npx uifork-vue init",2),v[9]||(v[9]=e.createTextVNode(" to iterate on more components ",-1))])],2)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),T.value==="opened-version-list"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createVNode(Ct,{"selected-component":e.unref(S),onToggle:v[2]||(v[2]=h=>i.value=!i.value),onSettingsClick:v[3]||(v[3]=h=>{h.stopPropagation(),d.value=!0})},null,8,["selected-component"]),e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).divider)},null,2),e.createVNode(Pt,{versions:$.value,"active-version":e.unref(O),"editing-version":e.unref(K),"rename-value":e.unref(ne),"format-version-label":J,"open-popover-version":l.value,"popover-positions":e.unref(he),"is-connected":W.value,onSelectVersion:v[4]||(v[4]=h=>e.unref(ee)(h)),onDuplicateVersion:_e,onTogglePopover:Be,onPromoteVersion:Ne,onOpenInEditor:xe,onDeleteVersion:be,onRenameVersion:Ee,onRenameValueChange:v[5]||(v[5]=h=>ne.value=h),onConfirmRename:Ie,onCancelRename:e.unref(G),onSetPopoverTriggerRef:e.unref(ye),onSetPopoverDropdownRef:e.unref(Ve)},null,8,["versions","active-version","editing-version","rename-value","open-popover-version","popover-positions","is-connected","onCancelRename","onSetPopoverTriggerRef","onSetPopoverDropdownRef"]),e.unref(Q)()?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(c).divider)},null,2),W.value?(e.openBlock(),e.createBlock(Ht,{key:0,onClick:Se})):(e.openBlock(),e.createBlock(Ut,{key:1}))],64)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],2))],38)])):e.createCommentVNode("",!0)}}),mo="uifork-component-",fo=e.defineComponent({__name:"ForkedComponent",props:{id:{},versions:{},defaultVersion:{}},setup(t){const n=t,o=e.ref(!1),s=e.computed(()=>Object.keys(n.versions)),i=e.computed(()=>n.defaultVersion||s.value[0]),d=e.computed(()=>Object.entries(n.versions).map(([k,w])=>({key:k,label:w.label}))),[l,r]=M(`${mo}${n.id}`,i.value,!0),a=e.inject("uifork-parent",null);e.provide("uifork-parent",{id:n.id,activeVersion:l});function u(){return!a||!a.activeVersion.value?null:{id:a.id,version:a.activeVersion.value}}e.onMounted(()=>{U(n.id,d.value,u()),o.value=!0}),e.onUnmounted(()=>{ue(n.id)}),e.watch(d,k=>{U(n.id,k,u())});const g=e.ref(s.value.includes(l.value)?l.value:i.value);e.watch(l,k=>{n.versions[k]&&(g.value=k)}),e.watch([l,s],([k,w])=>{if(w.length>0&&!w.includes(k)){const y=setTimeout(()=>{s.value.includes(l.value)||r(s.value[0])},2500);return()=>clearTimeout(y)}});const p=e.computed(()=>n.versions[l.value]?.render??n.versions[g.value]?.render??n.versions[s.value[0]]?.render);return(k,w)=>p.value&&o.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(p.value),e.normalizeProps(e.mergeProps({key:0},k.$attrs)),null,16)):e.createCommentVNode("",!0)}}),vo="uifork-component-",go=e.defineComponent({__name:"LazyForkedComponent",props:{id:{},versions:{},defaultVersion:{}},setup(t){const n=t,o=e.computed(()=>Object.keys(n.versions)),s=e.computed(()=>n.defaultVersion||o.value[0]),i=e.computed(()=>Object.entries(n.versions).map(([u,g])=>({key:u,label:g.label}))),[d,l]=M(`${vo}${n.id}`,s.value,!0);e.onMounted(()=>{U(n.id,i.value)}),e.onUnmounted(()=>{ue(n.id)}),e.watch(i,u=>{U(n.id,u)});const r=e.ref(o.value.includes(d.value)?d.value:s.value);e.watch(d,u=>{n.versions[u]&&(r.value=u)}),e.watch([d,o],([u,g])=>{if(g.length>0&&!g.includes(u)){const p=setTimeout(()=>{o.value.includes(d.value)||l(o.value[0])},2500);return()=>clearTimeout(p)}});const a=e.computed(()=>{const u=n.versions[d.value]?.render??n.versions[r.value]?.render??n.versions[o.value[0]]?.render;return u?typeof u=="function"?e.defineAsyncComponent(u):u:null});return(u,g)=>a.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.value),e.normalizeProps(e.mergeProps({key:0},u.$attrs)),null,16)):e.createCommentVNode("",!0)}});exports.ForkedComponent=fo;exports.LazyForkedComponent=go;exports.UIFork=po;exports.useLocalStorage=M;
